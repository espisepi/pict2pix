/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
var pict2pix;
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/effect-factory.js":
/*!*******************************!*\
  !*** ./src/effect-factory.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ EffectFactory)\n/* harmony export */ });\n/* harmony import */ var _shooting_stars_effect_shooting_stars_effect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./shooting-stars-effect/shooting-stars-effect */ \"./src/shooting-stars-effect/shooting-stars-effect.js\");\n/* harmony import */ var _led_matrix_effect_led_matrix_effect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./led-matrix-effect/led-matrix-effect */ \"./src/led-matrix-effect/led-matrix-effect.js\");\n/* harmony import */ var _halftone_effect_halftone_effect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./halftone-effect/halftone-effect */ \"./src/halftone-effect/halftone-effect.js\");\n\r\n\r\n\r\n\r\nclass EffectFactory {\r\n    static #effects = {\r\n            'straight-particle': (config) => new _shooting_stars_effect_shooting_stars_effect__WEBPACK_IMPORTED_MODULE_0__.default(config),\r\n            'twisted-particle': (config) => new _shooting_stars_effect_shooting_stars_effect__WEBPACK_IMPORTED_MODULE_0__.default(config),\r\n            'led-matrix': (config) => new _led_matrix_effect_led_matrix_effect__WEBPACK_IMPORTED_MODULE_1__.default(config),\r\n            'halftone': (config) => new _halftone_effect_halftone_effect__WEBPACK_IMPORTED_MODULE_2__.default(config)\r\n    }\r\n\r\n    static createParticle(config) {\r\n        return this.#effects[config.particleType]?.(config) ?? new _shooting_stars_effect_shooting_stars_effect__WEBPACK_IMPORTED_MODULE_0__.default(config);\r\n    }\r\n}\n\n//# sourceURL=webpack://pict2pix/./src/effect-factory.js?");

/***/ }),

/***/ "./src/halftone-effect/dot-halftone-particle.js":
/*!******************************************************!*\
  !*** ./src/halftone-effect/dot-halftone-particle.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DotHalftoneParticle)\n/* harmony export */ });\n/* harmony import */ var _utils_constant__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/constant */ \"./src/utils/constant.js\");\n\r\n\r\nclass DotHalftoneParticle {\r\n    \r\n    #config;\r\n    #color;\r\n    #x;\r\n    #y;\r\n    #originalX;\r\n    #originalY;\r\n    #toX;\r\n    #toY;\r\n    #fromX;\r\n    #fromY;\r\n    #dx;\r\n    #dy;\r\n\r\n    constructor(config, props) {\r\n        this.#config = config;\r\n        this.#color = props.color;\r\n        this.#originalX = props.x;\r\n        this.#originalY = props.y;\r\n        this.setFromOrigin();\r\n        this.setToOrigin();\r\n    }\r\n\r\n    #calculateDistance() {\r\n        this.#dx = this.#toX - this.#fromX;\r\n        this.#dy = this.#toY - this.#fromY;\r\n    }\r\n\r\n    setFrom(x, y) {\r\n        this.#fromX = x;\r\n        this.#fromY = y;\r\n        this.#calculateDistance();\r\n    }\r\n\r\n    setTo(x, y) {\r\n        this.#toX = x;\r\n        this.#toY = y;\r\n        this.#calculateDistance();\r\n    }\r\n\r\n    setFromOrigin() {\r\n        this.#fromX = this.#originalX;\r\n        this.#fromY = this.#originalY;\r\n        this.#calculateDistance();\r\n    }\r\n\r\n    setToOrigin() {\r\n        this.#toX = this.#originalX;\r\n        this.#toY = this.#originalY;\r\n        this.#calculateDistance();\r\n    }\r\n\r\n    setPosOrigin() {\r\n        this.#x = this.#originalX;\r\n        this.#y = this.#originalY;\r\n    }\r\n\r\n    setPos(x, y) {\r\n        this.#x = x;\r\n        this.#y = y;\r\n    }\r\n\r\n    getX() {\r\n        return this.#x;\r\n    }\r\n\r\n    getY() {\r\n        return this.#y;\r\n    }\r\n\r\n    getFromX() {\r\n        return this.#fromX;\r\n    }\r\n\r\n    getFromY() {\r\n        return this.#fromY;\r\n    }\r\n\r\n    getDx() {\r\n        return this.#dx;\r\n    }\r\n\r\n    getDy() {\r\n        return this.#dy;\r\n    }\r\n\r\n    getOriginalX() {\r\n        return this.#originalX;\r\n    }\r\n\r\n    getOriginalY() {\r\n        return this.#originalY;\r\n    }\r\n\r\n    draw(ctx) {\r\n        if (this.#x < this.#config.maxWidth && this.#y < this.#config.maxHeight) {\r\n            ctx.beginPath();\r\n            ctx.arc(this.#x, this.#y, this.getRadio(this.#x, this.#y), 0, _utils_constant__WEBPACK_IMPORTED_MODULE_0__.default.TWO_PI);\r\n            ctx.closePath();\r\n            ctx.fillStyle = this.#color;\r\n            ctx.fill();\r\n        }\r\n    }\r\n\r\n    getRadio(x, y) {\r\n        const posX = Math.floor((x - (this.#config.dotSize / 2)) / this.#config.dotSize);\r\n        const posY = Math.floor((y - (this.#config.dotSize / 2)) / this.#config.dotSize);\r\n        if (posY < this.#config.mappedImage.length && posX < this.#config.mappedImage[0].length) {\r\n            const brightness = this.#config.mappedImage[posY][posX].brightness;\r\n            return this.#config.dotSize * (2.55 - brightness) / 4;\r\n        }\r\n        else {\r\n            return 0;\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack://pict2pix/./src/halftone-effect/dot-halftone-particle.js?");

/***/ }),

/***/ "./src/halftone-effect/halftone-effect.js":
/*!************************************************!*\
  !*** ./src/halftone-effect/halftone-effect.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ HalftoneEffect)\n/* harmony export */ });\n/* harmony import */ var _particle_factory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../particle-factory */ \"./src/particle-factory.js\");\n/* harmony import */ var _utils_image_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/image-utils */ \"./src/utils/image-utils.js\");\n/* harmony import */ var _states_halftone_effect_state_factory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./states/halftone-effect-state-factory */ \"./src/halftone-effect/states/halftone-effect-state-factory.js\");\n\r\n\r\n\r\n\r\nclass HalftoneEffect {\r\n\r\n    #config;\r\n    #particlesArray = [];\r\n    #state;\r\n\r\n    constructor(config) {\r\n        this.#config = config;\r\n        this.#config.maxWidth = this.#config.image.width;\r\n        this.#config.maxHeight = this.#config.image.height;\r\n        this.#config.dotSize = config.dotSize ? (config.dotSize >= 4 ? config.dotSize : 4) : 4;\r\n        this.#config.transitionTime = config.transitionTime ?? 8000;\r\n        this.#config.idleTime = config.idleTime ?? 4000;\r\n        this.#config.color = config.color ?? 'rgb(30, 30, 30)';\r\n        this.#config.separation = config.separation ? (config.separation >= 1 ? config.separation : 10) : 10;\r\n        const imageData = (0,_utils_image_utils__WEBPACK_IMPORTED_MODULE_1__.reduceImage)(this.#config.image, this.#config.dotSize);\r\n        this.#config.mappedImage = (0,_utils_image_utils__WEBPACK_IMPORTED_MODULE_1__.mapImage)(imageData, imageData.width, imageData.height);\r\n        this.createParticlesFromMappedImage();\r\n        this.setState(_states_halftone_effect_state_factory__WEBPACK_IMPORTED_MODULE_2__.default.createHalftoneEffectState('going', this.#config, this.#particlesArray));\r\n    }\r\n\r\n    setState(state) {\r\n        this.#state = state;\r\n        this.#state.setHalftoneEffect(this);\r\n    }\r\n\r\n    createParticlesFromMappedImage() {\r\n        const shift = this.#config.dotSize / 2;\r\n        for (var y = 0; y < this.#config.mappedImage.length; y++) {\r\n            for (var x = 0; x < this.#config.mappedImage[y].length; x++) {\r\n                if (this.#config.mappedImage[y][x].alpha > 128) {\r\n                    let particle = _particle_factory__WEBPACK_IMPORTED_MODULE_0__.default.createParticle(this.#config, { \r\n                        x: x * this.#config.dotSize + shift, \r\n                        y: y * this.#config.dotSize + shift, \r\n                        color: this.#config.color, \r\n                        size: this.#config.dotSize * (2.55 - this.#config.mappedImage[y][x].brightness) / 2\r\n                    });\r\n                    this.#particlesArray.push(particle);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    update(deltaTime) {\r\n        this.#state.update(deltaTime);\r\n    }\r\n\r\n    draw(ctx) {\r\n        ctx.clearRect(0, 0, this.#config.maxWidth, this.#config.maxHeight);\r\n        for (let i = 0; i < this.#particlesArray.length; i++){\r\n            this.#particlesArray[i].draw(ctx);\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack://pict2pix/./src/halftone-effect/halftone-effect.js?");

/***/ }),

/***/ "./src/halftone-effect/states/halftone-effect-base-state.js":
/*!******************************************************************!*\
  !*** ./src/halftone-effect/states/halftone-effect-base-state.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ HalftoneEffectBaseState)\n/* harmony export */ });\nclass HalftoneEffectBaseState {\r\n    \r\n    halftoneEffect;\r\n\r\n    setHalftoneEffect(halftoneEffect) {\r\n        this.halftoneEffect = halftoneEffect;\r\n    }\r\n\r\n    update(deltaTime) {\r\n\r\n    }\r\n}\n\n//# sourceURL=webpack://pict2pix/./src/halftone-effect/states/halftone-effect-base-state.js?");

/***/ }),

/***/ "./src/halftone-effect/states/halftone-effect-going-state.js":
/*!*******************************************************************!*\
  !*** ./src/halftone-effect/states/halftone-effect-going-state.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ HalftoneEffectGoingState)\n/* harmony export */ });\n/* harmony import */ var _halftone_effect_state_factory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./halftone-effect-state-factory */ \"./src/halftone-effect/states/halftone-effect-state-factory.js\");\n/* harmony import */ var _halftone_effect_base_state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./halftone-effect-base-state */ \"./src/halftone-effect/states/halftone-effect-base-state.js\");\n\r\n\r\n\r\nclass HalftoneEffectGoingState extends _halftone_effect_base_state__WEBPACK_IMPORTED_MODULE_1__.default {\r\n    #config;\r\n    #particlesArray;\r\n    #accumulatedTime = 0;\r\n\r\n    constructor(config, particles) {\r\n        super();\r\n        this.#config = config;\r\n        this.#particlesArray = particles;\r\n        for (let i = 0; i < this.#particlesArray.length; i++) {\r\n            this.#particlesArray[i].setFrom(this.#particlesArray[i].getOriginalX() * this.#config.separation, this.#particlesArray[i].getOriginalY() * this.#config.separation);\r\n            this.#particlesArray[i].setToOrigin();\r\n        }\r\n    }\r\n\r\n    update(deltaTime) {\r\n        this.#accumulatedTime += deltaTime;\r\n        if (this.#accumulatedTime > this.#config.transitionTime) {\r\n            this.halftoneEffect.setState(_halftone_effect_state_factory__WEBPACK_IMPORTED_MODULE_0__.default.createHalftoneEffectState('idle', this.#config, this.#particlesArray));            \r\n        }\r\n        else {\r\n            for (let i = 0; i < this.#particlesArray.length; i++){\r\n                const time = this.#accumulatedTime / this.#config.transitionTime - 1;\r\n                const x = this.#particlesArray[i].getDx() * Math.sqrt(1 - time * time * time * time) + this.#particlesArray[i].getFromX();\r\n                const y = this.#particlesArray[i].getDy() * Math.sqrt(1 - time * time * time * time) + this.#particlesArray[i].getFromY();\r\n                this.#particlesArray[i].setPos(x, y);\r\n            }\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack://pict2pix/./src/halftone-effect/states/halftone-effect-going-state.js?");

/***/ }),

/***/ "./src/halftone-effect/states/halftone-effect-idle-state.js":
/*!******************************************************************!*\
  !*** ./src/halftone-effect/states/halftone-effect-idle-state.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ HalftoneEffectIdleState)\n/* harmony export */ });\n/* harmony import */ var _halftone_effect_state_factory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./halftone-effect-state-factory */ \"./src/halftone-effect/states/halftone-effect-state-factory.js\");\n/* harmony import */ var _halftone_effect_base_state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./halftone-effect-base-state */ \"./src/halftone-effect/states/halftone-effect-base-state.js\");\n\r\n\r\n\r\nclass HalftoneEffectIdleState extends _halftone_effect_base_state__WEBPACK_IMPORTED_MODULE_1__.default {\r\n    #config;\r\n    #particlesArray;\r\n    #accumulatedTime = 0;\r\n\r\n    constructor(config, particles) {\r\n        super();\r\n        this.#config = config;\r\n        this.#particlesArray = particles;\r\n    }\r\n\r\n    update(deltaTime) {\r\n        this.#accumulatedTime += deltaTime;\r\n        if (this.#accumulatedTime > this.#config.idleTime) {\r\n            this.halftoneEffect.setState(_halftone_effect_state_factory__WEBPACK_IMPORTED_MODULE_0__.default.createHalftoneEffectState('returning', this.#config, this.#particlesArray));            \r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack://pict2pix/./src/halftone-effect/states/halftone-effect-idle-state.js?");

/***/ }),

/***/ "./src/halftone-effect/states/halftone-effect-returning-state.js":
/*!***********************************************************************!*\
  !*** ./src/halftone-effect/states/halftone-effect-returning-state.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ HalftoneEffectReturningState)\n/* harmony export */ });\n/* harmony import */ var _halftone_effect_state_factory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./halftone-effect-state-factory */ \"./src/halftone-effect/states/halftone-effect-state-factory.js\");\n/* harmony import */ var _halftone_effect_base_state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./halftone-effect-base-state */ \"./src/halftone-effect/states/halftone-effect-base-state.js\");\n\r\n\r\n\r\nclass HalftoneEffectReturningState extends _halftone_effect_base_state__WEBPACK_IMPORTED_MODULE_1__.default {\r\n    #config;\r\n    #particlesArray;\r\n    #accumulatedTime = 0;\r\n\r\n    constructor(config, particles) {\r\n        super();\r\n        this.#config = config;\r\n        this.#particlesArray = particles;\r\n        for (let i = 0; i < this.#particlesArray.length; i++) {\r\n            this.#particlesArray[i].setFromOrigin();\r\n            this.#particlesArray[i].setTo(this.#particlesArray[i].getOriginalX() * this.#config.separation, this.#particlesArray[i].getOriginalY() * this.#config.separation);\r\n        }\r\n    }\r\n\r\n    update(deltaTime) {\r\n        this.#accumulatedTime += deltaTime;\r\n        if (this.#accumulatedTime > this.#config.transitionTime) {\r\n            this.halftoneEffect.setState(_halftone_effect_state_factory__WEBPACK_IMPORTED_MODULE_0__.default.createHalftoneEffectState('going', this.#config, this.#particlesArray));            \r\n        }\r\n        else {\r\n            for (let i = 0; i < this.#particlesArray.length; i++) {\r\n                const time = this.#accumulatedTime / this.#config.transitionTime;\r\n                const x = -this.#particlesArray[i].getDx() * (Math.sqrt(1 - time * time) - 1) + this.#particlesArray[i].getFromX();\r\n                const y = -this.#particlesArray[i].getDy() * (Math.sqrt(1 - time * time) - 1) + this.#particlesArray[i].getFromY();\r\n                this.#particlesArray[i].setPos(x, y);\r\n            }\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack://pict2pix/./src/halftone-effect/states/halftone-effect-returning-state.js?");

/***/ }),

/***/ "./src/halftone-effect/states/halftone-effect-state-factory.js":
/*!*********************************************************************!*\
  !*** ./src/halftone-effect/states/halftone-effect-state-factory.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ HalftoneEffectStateFactory)\n/* harmony export */ });\n/* harmony import */ var _halftone_effect_going_state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./halftone-effect-going-state */ \"./src/halftone-effect/states/halftone-effect-going-state.js\");\n/* harmony import */ var _halftone_effect_idle_state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./halftone-effect-idle-state */ \"./src/halftone-effect/states/halftone-effect-idle-state.js\");\n/* harmony import */ var _halftone_effect_returning_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./halftone-effect-returning-state */ \"./src/halftone-effect/states/halftone-effect-returning-state.js\");\n\r\n\r\n\r\n\r\nclass HalftoneEffectStateFactory {\r\n    static #states = {\r\n            'going': (config, particles) => new _halftone_effect_going_state__WEBPACK_IMPORTED_MODULE_0__.default(config, particles), \r\n            'idle': (config, particles) => new _halftone_effect_idle_state__WEBPACK_IMPORTED_MODULE_1__.default(config, particles), \r\n            'returning': (config, particles) => new _halftone_effect_returning_state__WEBPACK_IMPORTED_MODULE_2__.default(config, particles)\r\n    }\r\n\r\n    static createHalftoneEffectState(state, config, particles) {\r\n        return HalftoneEffectStateFactory.#states[state]?.(config, particles) ?? new HalftoneEffectGoingPointState(config, particles);\r\n    }\r\n}\n\n//# sourceURL=webpack://pict2pix/./src/halftone-effect/states/halftone-effect-state-factory.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"animate\": () => (/* binding */ animate),\n/* harmony export */   \"stop\": () => (/* binding */ stop)\n/* harmony export */ });\n/* harmony import */ var _pict2pix_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pict2pix.js */ \"./src/pict2pix.js\");\n\r\n\r\nvar pict2PixArray = {};\r\n\r\nfunction animate(config) {\r\n    if (!pict2PixArray[config.image.id]) {\r\n        pict2PixArray[config.image.id] = {pict2pix: new _pict2pix_js__WEBPACK_IMPORTED_MODULE_0__.default(config), running: true};\r\n    }\r\n    pict2PixArray[config.image.id].running = true;\r\n    pict2PixArray[config.image.id].pict2pix.start();\r\n}\r\n\r\nfunction stop(id) {\r\n    pict2PixArray[id].running = false;\r\n    pict2PixArray[id].pict2pix.stop();\r\n}\r\n\r\nfunction startAll() {\r\n    for (var key in pict2PixArray) {\r\n        if (pict2PixArray[key].running) {\r\n            pict2PixArray[key].pict2pix.start();\r\n        }\r\n    }\r\n}\r\n\r\nfunction stopAll() {\r\n    for (var key in pict2PixArray) {\r\n        if (pict2PixArray[key].running) {\r\n            pict2PixArray[key].pict2pix.stop();\r\n        }\r\n    }\r\n}\r\n\r\nfunction handleVisibilityChange() {\r\n    if (document.visibilityState === \"hidden\") {\r\n        stopAll();\r\n    } else  {\r\n        startAll();\r\n    }\r\n  }\r\n  \r\n  document.addEventListener(\"visibilitychange\", handleVisibilityChange, false);\r\n  \n\n//# sourceURL=webpack://pict2pix/./src/index.js?");

/***/ }),

/***/ "./src/led-matrix-effect/default-led-particle.js":
/*!*******************************************************!*\
  !*** ./src/led-matrix-effect/default-led-particle.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DefaultLedParticle)\n/* harmony export */ });\n/* harmony import */ var _utils_constant__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/constant */ \"./src/utils/constant.js\");\n\r\n\r\nclass DefaultLedParticle {\r\n\r\n    #config;\r\n    #x;\r\n    #y;\r\n    #originalX;\r\n    #originalY;\r\n    #fromX;\r\n    #fromY;\r\n    #toX;\r\n    #toY;\r\n    #color;\r\n    #dx;\r\n    #dy;\r\n    #transitionTime;\r\n    #realTransitionTime;\r\n    #radio;\r\n\r\n    constructor(config, props) {\r\n        this.#config = config;\r\n        this.#x = 0;\r\n        this.#y = 0;\r\n        this.#originalX = props.x;\r\n        this.#originalY = props.y;\r\n        this.setFromOrigin();\r\n        this.setToOrigin();\r\n        this.#color = props.color;\r\n        this.#radio = props.ledSize / 2;\r\n    }\r\n\r\n    #calculateDistance() {\r\n        this.#dx = this.#toX - this.#fromX;\r\n        this.#dy = this.#toY - this.#fromY;\r\n    }\r\n\r\n    setTransitionTime(transitionTime) {\r\n        this.#transitionTime = transitionTime;\r\n        const max = Math.floor(this.#transitionTime - (this.#transitionTime / 10));\r\n        const min = Math.floor(this.#transitionTime / 2);\r\n        this.#realTransitionTime = Math.floor(Math.random() * (max - min) + min);\r\n    }\r\n\r\n    setFrom(x, y) {\r\n        this.#fromX = x;\r\n        this.#fromY = y;\r\n        this.#calculateDistance();\r\n    }\r\n\r\n    setTo(x, y) {\r\n        this.#toX = x;\r\n        this.#toY = y;\r\n        this.#calculateDistance();\r\n    }\r\n\r\n    setFromPos() {\r\n        this.#fromX = this.#x;\r\n        this.#fromY = this.#y;\r\n        this.#calculateDistance();\r\n    }\r\n\r\n    setFromOrigin() {\r\n        this.#fromX = this.#originalX;\r\n        this.#fromY = this.#originalY;\r\n        this.#calculateDistance();\r\n    }\r\n\r\n    setToOrigin() {\r\n        this.#toX = this.#originalX;\r\n        this.#toY = this.#originalY;\r\n        this.#calculateDistance();\r\n    }\r\n\r\n    setPos(x, y) {\r\n        this.#x = x;\r\n        this.#y = y;\r\n    }\r\n    \r\n    getX() {\r\n        return this.#x;\r\n    }\r\n\r\n    getY() {\r\n        return this.#y;\r\n    }\r\n\r\n    getOriginalX() {\r\n        return this.#originalX;\r\n    }\r\n\r\n    getOriginalY() {\r\n        return this.#originalY;\r\n    }\r\n\r\n    getTargetX() {\r\n        return this.#toX;\r\n    }\r\n\r\n    getTargetY() {\r\n        return this.#toY;\r\n    }\r\n\r\n    update(accumulatedTime) {\r\n        const time = accumulatedTime / this.#realTransitionTime;\r\n        if (accumulatedTime <= this.#realTransitionTime) {\r\n            this.#x = this.#dx * time + this.#fromX;\r\n            this.#y = this.#dy * time + this.#fromY;\r\n        }\r\n        else {\r\n            this.#x = this.#toX;\r\n            this.#y = this.#toY;\r\n        }\r\n    }\r\n\r\n    draw(ctx) {\r\n        ctx.beginPath();\r\n        ctx.arc(this.#x, this.#y, this.#radio, 0, _utils_constant__WEBPACK_IMPORTED_MODULE_0__.default.TWO_PI);\r\n        ctx.closePath();\r\n        ctx.fillStyle = this.#color;\r\n        ctx.fill();\r\n    }\r\n\r\n}\n\n//# sourceURL=webpack://pict2pix/./src/led-matrix-effect/default-led-particle.js?");

/***/ }),

/***/ "./src/led-matrix-effect/led-matrix-effect-base-state.js":
/*!***************************************************************!*\
  !*** ./src/led-matrix-effect/led-matrix-effect-base-state.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LedMatrixEffectBaseState)\n/* harmony export */ });\nclass LedMatrixEffectBaseState {\r\n    \r\n    ledMatrixEffect;\r\n\r\n    setLedMatrixEffect(ledMatrixEffect) {\r\n        this.ledMatrixEffect = ledMatrixEffect;\r\n    }\r\n\r\n    update(deltaTime) {\r\n\r\n    }\r\n}\n\n//# sourceURL=webpack://pict2pix/./src/led-matrix-effect/led-matrix-effect-base-state.js?");

/***/ }),

/***/ "./src/led-matrix-effect/led-matrix-effect-idle-state.js":
/*!***************************************************************!*\
  !*** ./src/led-matrix-effect/led-matrix-effect-idle-state.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LedMatrixEffectIdleState)\n/* harmony export */ });\n/* harmony import */ var _led_matrix_state_factory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./led-matrix-state-factory */ \"./src/led-matrix-effect/led-matrix-state-factory.js\");\n/* harmony import */ var _led_matrix_effect_base_state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./led-matrix-effect-base-state */ \"./src/led-matrix-effect/led-matrix-effect-base-state.js\");\n\r\n\r\n\r\nclass LedMatrixEffectIdleState extends _led_matrix_effect_base_state__WEBPACK_IMPORTED_MODULE_1__.default {\r\n    \r\n    #accumulatedTime = 0;\r\n    #config;\r\n    #particlesArray;\r\n\r\n    constructor(config, particles) {\r\n        super();\r\n        this.#config = config;\r\n        this.#particlesArray = particles;\r\n    }\r\n\r\n    update(deltaTime) {\r\n        this.#accumulatedTime += deltaTime;\r\n        if (this.#accumulatedTime > this.#config.idleTime) {\r\n            this.ledMatrixEffect.setState(_led_matrix_state_factory__WEBPACK_IMPORTED_MODULE_0__.default.createLedMatrixState(this.#config.type, this.#config, this.#particlesArray));\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack://pict2pix/./src/led-matrix-effect/led-matrix-effect-idle-state.js?");

/***/ }),

/***/ "./src/led-matrix-effect/led-matrix-effect-returning-state.js":
/*!********************************************************************!*\
  !*** ./src/led-matrix-effect/led-matrix-effect-returning-state.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LedMatrixEffectReturningState)\n/* harmony export */ });\n/* harmony import */ var _led_matrix_effect_base_state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./led-matrix-effect-base-state */ \"./src/led-matrix-effect/led-matrix-effect-base-state.js\");\n/* harmony import */ var _led_matrix_state_factory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./led-matrix-state-factory */ \"./src/led-matrix-effect/led-matrix-state-factory.js\");\n\r\n\r\n\r\nclass LedMatrixEffectReturningState extends _led_matrix_effect_base_state__WEBPACK_IMPORTED_MODULE_0__.default {\r\n    \r\n    #config;\r\n    #particlesArray;\r\n    #accumulatedTime = 0;\r\n\r\n    constructor(config, particles) {\r\n        super();\r\n        this.#config = config;\r\n        this.#particlesArray = particles;\r\n        for (let i = 0; i < this.#particlesArray.length; i++){\r\n            this.#particlesArray[i].setTransitionTime(this.#config.transitionTime);\r\n            this.#particlesArray[i].setFromPos();\r\n            this.#particlesArray[i].setToOrigin();\r\n        }\r\n    }\r\n    update(deltaTime) {\r\n        this.#accumulatedTime += deltaTime;\r\n        if (this.#accumulatedTime > this.#config.transitionTime) {\r\n            this.ledMatrixEffect.setState(_led_matrix_state_factory__WEBPACK_IMPORTED_MODULE_1__.default.createLedMatrixState('idle', this.#config, this.#particlesArray));\r\n        }\r\n        else {\r\n            for (let i = 0; i < this.#particlesArray.length; i++){\r\n                this.#particlesArray[i].update(this.#accumulatedTime, this.#config.transitionTime);\r\n            }            \r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack://pict2pix/./src/led-matrix-effect/led-matrix-effect-returning-state.js?");

/***/ }),

/***/ "./src/led-matrix-effect/led-matrix-effect.js":
/*!****************************************************!*\
  !*** ./src/led-matrix-effect/led-matrix-effect.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LedMatrixEffect)\n/* harmony export */ });\n/* harmony import */ var _particle_factory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../particle-factory */ \"./src/particle-factory.js\");\n/* harmony import */ var _led_matrix_state_factory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./led-matrix-state-factory */ \"./src/led-matrix-effect/led-matrix-state-factory.js\");\n/* harmony import */ var _utils_image_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/image-utils */ \"./src/utils/image-utils.js\");\n\r\n\r\n\r\n\r\nclass LedMatrixEffect {\r\n    \r\n    #config;\r\n    #particlesArray = [];\r\n    #state;\r\n    \r\n    constructor(config) {\r\n        this.#config = config;\r\n        this.#config.maxWidth = this.#config.image.width;\r\n        this.#config.maxHeight = this.#config.image.height;\r\n        this.#config.transitionTime = config.transitionTime ?? 2000;\r\n        this.#config.idleTime = config.idleTime ?? 5000;\r\n        this.#config.ledSize = config.ledSize ? (config.ledSize >= 4 ? config.ledSize : 4) : 4;\r\n        const imageData = (0,_utils_image_utils__WEBPACK_IMPORTED_MODULE_2__.reduceImage)(this.#config.image, this.#config.ledSize);\r\n        const mappedImage = (0,_utils_image_utils__WEBPACK_IMPORTED_MODULE_2__.mapImage)(imageData, imageData.width, imageData.height);\r\n        this.createParticlesFromMappedImage(mappedImage, imageData.width, imageData.height);\r\n        this.setState(_led_matrix_state_factory__WEBPACK_IMPORTED_MODULE_1__.default.createLedMatrixState('returning', this.#config, this.#particlesArray));\r\n    }\r\n\r\n    setState(state) {\r\n        this.#state = state;\r\n        this.#state.setLedMatrixEffect(this);\r\n    }\r\n\r\n    createParticlesFromMappedImage(mappedImage) {\r\n        const shift = this.#config.ledSize / 2;\r\n        for (var y = 0; y < mappedImage.length; y++) {\r\n            for (var x = 0; x < mappedImage[y].length; x++) {\r\n                if (mappedImage[y][x].alpha > 128) {\r\n                    let color = mappedImage[y][x].color;\r\n                    let particle = _particle_factory__WEBPACK_IMPORTED_MODULE_0__.default.createParticle(this.#config, { \r\n                        x: x * this.#config.ledSize + shift, \r\n                        y: y * this.#config.ledSize + shift, \r\n                        color: color, \r\n                        ledSize: this.#config.ledSize \r\n                    });\r\n                    this.#particlesArray.push(particle);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    update(deltaTime) {\r\n        this.#state.update(deltaTime);\r\n    }\r\n\r\n    draw(ctx) {\r\n        ctx.clearRect(0, 0, this.#config.maxWidth, this.#config.maxHeight);\r\n        for (let i = 0; i < this.#particlesArray.length; i++){\r\n            this.#particlesArray[i].draw(ctx);\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack://pict2pix/./src/led-matrix-effect/led-matrix-effect.js?");

/***/ }),

/***/ "./src/led-matrix-effect/led-matrix-going-horizontal-state.js":
/*!********************************************************************!*\
  !*** ./src/led-matrix-effect/led-matrix-going-horizontal-state.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LedMatrixGoingHorizontalState)\n/* harmony export */ });\n/* harmony import */ var _led_matrix_effect_base_state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./led-matrix-effect-base-state */ \"./src/led-matrix-effect/led-matrix-effect-base-state.js\");\n/* harmony import */ var _led_matrix_state_factory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./led-matrix-state-factory */ \"./src/led-matrix-effect/led-matrix-state-factory.js\");\n\r\n\r\n\r\nclass LedMatrixGoingHorizontalState extends _led_matrix_effect_base_state__WEBPACK_IMPORTED_MODULE_0__.default {\r\n    \r\n    #config;\r\n    #particlesArray;\r\n    #accumulatedTime = 0;\r\n\r\n    constructor(config, particles) {\r\n        super();\r\n        this.#config = config;\r\n        this.#particlesArray = particles;\r\n        const pos = -1 * this.#config.ledSize / 2;\r\n        for (let i = 0; i < this.#particlesArray.length; i++){\r\n            this.#particlesArray[i].setTransitionTime(this.#config.transitionTime);\r\n            this.#particlesArray[i].setFromPos();\r\n            this.#particlesArray[i].setTo(this.#particlesArray[i].getOriginalX(), pos);\r\n        }\r\n    }\r\n\r\n    update(deltaTime) {\r\n        this.#accumulatedTime += deltaTime;\r\n        if (this.#accumulatedTime > this.#config.transitionTime) {\r\n            for (let i = 0; i < this.#particlesArray.length; i++){\r\n                this.#particlesArray[i].setPos(this.#particlesArray[i].getOriginalX(), this.#config.maxHeight - 1);\r\n            }\r\n            this.ledMatrixEffect.setState(_led_matrix_state_factory__WEBPACK_IMPORTED_MODULE_1__.default.createLedMatrixState('returning', this.#config, this.#particlesArray));            \r\n        }\r\n        else {\r\n            for (let i = 0; i < this.#particlesArray.length; i++){\r\n                this.#particlesArray[i].update(this.#accumulatedTime, this.#config.transitionTime);\r\n            }\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack://pict2pix/./src/led-matrix-effect/led-matrix-going-horizontal-state.js?");

/***/ }),

/***/ "./src/led-matrix-effect/led-matrix-going-point-state.js":
/*!***************************************************************!*\
  !*** ./src/led-matrix-effect/led-matrix-going-point-state.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LedMatrixGoingPointState)\n/* harmony export */ });\n/* harmony import */ var _led_matrix_effect_base_state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./led-matrix-effect-base-state */ \"./src/led-matrix-effect/led-matrix-effect-base-state.js\");\n/* harmony import */ var _led_matrix_state_factory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./led-matrix-state-factory */ \"./src/led-matrix-effect/led-matrix-state-factory.js\");\n\r\n\r\n\r\nclass LedMatrixGoingPointState extends _led_matrix_effect_base_state__WEBPACK_IMPORTED_MODULE_0__.default {\r\n    \r\n    #config;\r\n    #particlesArray;\r\n    #accumulatedTime = 0;\r\n\r\n    constructor(config, particles) {\r\n        super();\r\n        this.#config = config;\r\n        this.#particlesArray = particles;\r\n        const x = Math.random() * this.#config.maxWidth;\r\n        const y = Math.random() * this.#config.maxHeight;\r\n        for (let i = 0; i < this.#particlesArray.length; i++) {\r\n            this.#particlesArray[i].setTransitionTime(this.#config.transitionTime);\r\n            this.#particlesArray[i].setFromPos();\r\n            this.#particlesArray[i].setTo(x, y);\r\n        }\r\n    }\r\n\r\n    update(deltaTime) {\r\n        this.#accumulatedTime += deltaTime;\r\n        if (this.#accumulatedTime > this.#config.transitionTime) {\r\n            this.ledMatrixEffect.setState(_led_matrix_state_factory__WEBPACK_IMPORTED_MODULE_1__.default.createLedMatrixState('returning', this.#config, this.#particlesArray));                        \r\n        }\r\n        else {\r\n            for (let i = 0; i < this.#particlesArray.length; i++){\r\n                this.#particlesArray[i].update(this.#accumulatedTime, this.#config.transitionTime);\r\n            }\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack://pict2pix/./src/led-matrix-effect/led-matrix-going-point-state.js?");

/***/ }),

/***/ "./src/led-matrix-effect/led-matrix-going-vertical-state.js":
/*!******************************************************************!*\
  !*** ./src/led-matrix-effect/led-matrix-going-vertical-state.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LedMatrixGoingVerticalState)\n/* harmony export */ });\n/* harmony import */ var _led_matrix_effect_base_state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./led-matrix-effect-base-state */ \"./src/led-matrix-effect/led-matrix-effect-base-state.js\");\n/* harmony import */ var _led_matrix_state_factory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./led-matrix-state-factory */ \"./src/led-matrix-effect/led-matrix-state-factory.js\");\n\r\n\r\n\r\nclass LedMatrixGoingVerticalState extends _led_matrix_effect_base_state__WEBPACK_IMPORTED_MODULE_0__.default {\r\n    \r\n    #config;\r\n    #particlesArray;\r\n    #accumulatedTime = 0;\r\n\r\n    constructor(config, particles) {\r\n        super();\r\n        this.#config = config;\r\n        this.#particlesArray = particles;\r\n        const pos = -1 * this.#config.ledSize / 2;\r\n        for (let i = 0; i < this.#particlesArray.length; i++) {\r\n            this.#particlesArray[i].setTransitionTime(this.#config.transitionTime);\r\n            this.#particlesArray[i].setFromPos();\r\n            this.#particlesArray[i].setTo(pos, this.#particlesArray[i].getOriginalY());\r\n        }\r\n    }\r\n\r\n    update(deltaTime) {\r\n        this.#accumulatedTime += deltaTime;\r\n        if (this.#accumulatedTime > this.#config.transitionTime) {\r\n            for (let i = 0; i < this.#particlesArray.length; i++){\r\n                this.#particlesArray[i].setPos(this.#config.maxWidth - 1, this.#particlesArray[i].getOriginalY());\r\n            }\r\n            this.ledMatrixEffect.setState(_led_matrix_state_factory__WEBPACK_IMPORTED_MODULE_1__.default.createLedMatrixState('returning', this.#config, this.#particlesArray));            \r\n        }\r\n        else {\r\n            for (let i = 0; i < this.#particlesArray.length; i++){\r\n                this.#particlesArray[i].update(this.#accumulatedTime, this.#config.transitionTime);\r\n            }\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack://pict2pix/./src/led-matrix-effect/led-matrix-going-vertical-state.js?");

/***/ }),

/***/ "./src/led-matrix-effect/led-matrix-state-factory.js":
/*!***********************************************************!*\
  !*** ./src/led-matrix-effect/led-matrix-state-factory.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LedMatrixStateFactory)\n/* harmony export */ });\n/* harmony import */ var _led_matrix_going_point_state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./led-matrix-going-point-state */ \"./src/led-matrix-effect/led-matrix-going-point-state.js\");\n/* harmony import */ var _led_matrix_going_horizontal_state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./led-matrix-going-horizontal-state */ \"./src/led-matrix-effect/led-matrix-going-horizontal-state.js\");\n/* harmony import */ var _led_matrix_going_vertical_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./led-matrix-going-vertical-state */ \"./src/led-matrix-effect/led-matrix-going-vertical-state.js\");\n/* harmony import */ var _led_matrix_effect_returning_state__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./led-matrix-effect-returning-state */ \"./src/led-matrix-effect/led-matrix-effect-returning-state.js\");\n/* harmony import */ var _led_matrix_effect_idle_state__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./led-matrix-effect-idle-state */ \"./src/led-matrix-effect/led-matrix-effect-idle-state.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nclass LedMatrixStateFactory {\r\n    static #states = {\r\n            'point': (config, particles) => new _led_matrix_going_point_state__WEBPACK_IMPORTED_MODULE_0__.default(config, particles),\r\n            'horizontal': (config, particles) => new _led_matrix_going_horizontal_state__WEBPACK_IMPORTED_MODULE_1__.default(config, particles),\r\n            'vertical': (config, particles) => new _led_matrix_going_vertical_state__WEBPACK_IMPORTED_MODULE_2__.default(config, particles),\r\n            'returning': (config, particles) => new _led_matrix_effect_returning_state__WEBPACK_IMPORTED_MODULE_3__.default(config, particles),\r\n            'idle': (config, particles) => new _led_matrix_effect_idle_state__WEBPACK_IMPORTED_MODULE_4__.default(config, particles)\r\n    }\r\n\r\n    static createLedMatrixState(state, config, particles) {\r\n        let key;\r\n        if (state === 'random') {\r\n            key = LedMatrixStateFactory.getRandomState();\r\n        }\r\n        else {\r\n            key = state;\r\n        }\r\n        return LedMatrixStateFactory.#states[key]?.(config, particles) ?? new _led_matrix_going_point_state__WEBPACK_IMPORTED_MODULE_0__.default(config, particles);\r\n    }\r\n\r\n    static getRandomState() {\r\n        const pos = Math.floor(Math.random() * 3); // Only the the three first are random states\r\n        return Object.keys(LedMatrixStateFactory.#states)[pos];\r\n    }\r\n\r\n}\n\n//# sourceURL=webpack://pict2pix/./src/led-matrix-effect/led-matrix-state-factory.js?");

/***/ }),

/***/ "./src/particle-factory.js":
/*!*********************************!*\
  !*** ./src/particle-factory.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ParticleFactory)\n/* harmony export */ });\n/* harmony import */ var _led_matrix_effect_default_led_particle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./led-matrix-effect/default-led-particle */ \"./src/led-matrix-effect/default-led-particle.js\");\n/* harmony import */ var _shooting_stars_effect_straight_particle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./shooting-stars-effect/straight-particle */ \"./src/shooting-stars-effect/straight-particle.js\");\n/* harmony import */ var _shooting_stars_effect_twisted_particle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./shooting-stars-effect/twisted-particle */ \"./src/shooting-stars-effect/twisted-particle.js\");\n/* harmony import */ var _halftone_effect_dot_halftone_particle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./halftone-effect/dot-halftone-particle */ \"./src/halftone-effect/dot-halftone-particle.js\");\n\r\n\r\n\r\n\r\n\r\nclass ParticleFactory {\r\n    static #particles = {\r\n            'straight-particle': (config) => new _shooting_stars_effect_straight_particle__WEBPACK_IMPORTED_MODULE_1__.default(config),\r\n            'twisted-particle': (config) => new _shooting_stars_effect_twisted_particle__WEBPACK_IMPORTED_MODULE_2__.default(config),\r\n            'led-matrix': (config, props) => new _led_matrix_effect_default_led_particle__WEBPACK_IMPORTED_MODULE_0__.default(config, props),\r\n            'halftone': (config, props) => new _halftone_effect_dot_halftone_particle__WEBPACK_IMPORTED_MODULE_3__.default(config, props)\r\n    }\r\n\r\n    static createParticle(config, props) {\r\n        return this.#particles[config.particleType]?.(config, props) ?? new _shooting_stars_effect_straight_particle__WEBPACK_IMPORTED_MODULE_1__.default();\r\n    }\r\n}\n\n//# sourceURL=webpack://pict2pix/./src/particle-factory.js?");

/***/ }),

/***/ "./src/particle.js":
/*!*************************!*\
  !*** ./src/particle.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Particle)\n/* harmony export */ });\nclass Particle {\r\n    config;\r\n    \r\n    constructor(config){\r\n        this.config = config;\r\n    }\r\n\r\n    update(deltaTime){\r\n\r\n    }\r\n    draw(ctx){\r\n\r\n    }\r\n}\n\n//# sourceURL=webpack://pict2pix/./src/particle.js?");

/***/ }),

/***/ "./src/pict2pix.js":
/*!*************************!*\
  !*** ./src/pict2pix.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Pict2Pix)\n/* harmony export */ });\n/* harmony import */ var _effect_factory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./effect-factory */ \"./src/effect-factory.js\");\n\r\n\r\nclass Pict2Pix {\r\n    #canvas;\r\n    #ctx;\r\n    #reqAnim;\r\n    #lastTime = 0;\r\n    #deltaTime = 0;\r\n    #effect;\r\n    #config;\r\n    running = false;\r\n    \r\n    constructor(config) {\r\n        this.#config = config;\r\n        this.#canvas = document.createElement('canvas');\r\n        this.#canvas.width = this.#config.image.width || this.#config.image.naturalWidth;\r\n        this.#canvas.height = this.#config.image.height || this.#config.image.naturalHeight;\r\n        this.#ctx = this.#canvas.getContext('2d');\r\n\r\n        this.#effect = _effect_factory__WEBPACK_IMPORTED_MODULE_0__.default.createParticle(config);\r\n    }\r\n\r\n    update(deltaTime) {\r\n        this.#effect.update(deltaTime);\r\n    }\r\n\r\n    draw() {\r\n        this.#effect.draw(this.#ctx);\r\n    }\r\n\r\n    start() {\r\n        if (!this.running) {\r\n            this.#lastTime = 0;\r\n            this.#config.image.style.display = \"none\";\r\n            this.#config.image.parentNode.insertBefore(this.#canvas, this.#config.image);\r\n            this.#reqAnim = requestAnimationFrame(this.loop.bind(this));\r\n            this.running = true;\r\n        }\r\n    }\r\n\r\n    stop() {\r\n        if (this.running) {\r\n            this.#config.image.style.display = \"initial\";\r\n            this.#config.image.parentNode.removeChild(this.#canvas);\r\n            window.cancelAnimationFrame(this.#reqAnim);\r\n            this.running = false;\r\n        }\r\n    }\r\n\r\n    loop(timeStamp) {\r\n        if (!this.#lastTime) {\r\n            this.#lastTime = timeStamp;\r\n        }\r\n        this.#deltaTime = timeStamp - this.#lastTime;\r\n        this.#lastTime = timeStamp;\r\n\r\n        this.update(this.#deltaTime);\r\n\r\n        this.draw();\r\n\r\n        this.#reqAnim = requestAnimationFrame(this.loop.bind(this))\r\n    }\r\n}\n\n//# sourceURL=webpack://pict2pix/./src/pict2pix.js?");

/***/ }),

/***/ "./src/shooting-stars-effect/shooting-stars-effect.js":
/*!************************************************************!*\
  !*** ./src/shooting-stars-effect/shooting-stars-effect.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ShootingStars)\n/* harmony export */ });\n/* harmony import */ var _particle_factory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../particle-factory */ \"./src/particle-factory.js\");\n/* harmony import */ var _utils_image_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/image-utils */ \"./src/utils/image-utils.js\");\n\r\n\r\n\r\nclass ShootingStars {\r\n\r\n    #config;\r\n    #particlesArray = [];\r\n\r\n    constructor(config) {\r\n        this.#config = config;\r\n\r\n        let canvas = document.createElement('canvas');\r\n        canvas.width = this.#config.image.width;\r\n        canvas.height = this.#config.image.height;\r\n        let ctx = canvas.getContext('2d');\r\n        ctx.drawImage(this.#config.image, 0, 0, this.#config.image.width, this.#config.image.height);\r\n        const pixels = ctx.getImageData(0, 0, this.#config.image.width, this.#config.image.height);\r\n\r\n        this.#config.numberOfParticles = this.#config.numberOfParticles || 3000;\r\n        this.#config.maxWidth = this.#config.image.width;\r\n        this.#config.maxHeight = this.#config.image.height;\r\n        this.#config.mappedImage = (0,_utils_image_utils__WEBPACK_IMPORTED_MODULE_1__.mapImage)(pixels, this.#config.maxWidth, this.#config.maxHeight);\r\n        this.#config.verticalSpeed = config.verticalSpeed ?? 1;\r\n        this.#config.horizontalSpeed = config.horizontalSpeed ?? 1;\r\n\r\n        for (let i = 0; i < this.#config.numberOfParticles; i++){\r\n            this.#particlesArray.push(_particle_factory__WEBPACK_IMPORTED_MODULE_0__.default.createParticle(config));\r\n        }\r\n    }\r\n\r\n    update(deltaTime) {\r\n        for (let i = 0; i < this.#particlesArray.length; i++){\r\n            this.#particlesArray[i].update(deltaTime);\r\n        }\r\n    }\r\n\r\n    draw(ctx) {\r\n        ctx.globalAlpha = 0.01;\r\n        ctx.fillStyle = 'rgb(0, 0, 0)';\r\n        ctx.fillRect(0, 0, this.#config.maxWidth, this.#config.maxHeight);\r\n        for (let i = 0; i < this.#particlesArray.length; i++){\r\n            this.#particlesArray[i].draw(ctx);\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack://pict2pix/./src/shooting-stars-effect/shooting-stars-effect.js?");

/***/ }),

/***/ "./src/shooting-stars-effect/straight-particle.js":
/*!********************************************************!*\
  !*** ./src/shooting-stars-effect/straight-particle.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ StraightParticle)\n/* harmony export */ });\n/* harmony import */ var _particle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../particle */ \"./src/particle.js\");\n/* harmony import */ var _utils_constant__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/constant */ \"./src/utils/constant.js\");\n\r\n\r\n\r\nclass StraightParticle extends _particle__WEBPACK_IMPORTED_MODULE_0__.default {\r\n    constructor(config){\r\n        super(config);\r\n        this.x = Math.random() * this.config.maxWidth;\r\n        this.y = Math.random() * this.config.maxHeight;\r\n        this.speed = 0;\r\n        this.size = Math.random() * 2 + 0.2;\r\n        this.color;\r\n    }\r\n    update(deltaTime){\r\n        this.y += (3 - this.speed) * deltaTime * 0.03 * this.config.verticalSpeed;\r\n        this.x += (3 - this.speed) * deltaTime * 0.03 * this.config.horizontalSpeed;\r\n        if (this.y >= this.config.maxHeight && this.config.verticalSpeed > 0){\r\n            this.y = 0;\r\n            this.x = Math.random() * this.config.maxWidth;\r\n        }\r\n        if (this.y < 0 && this.config.verticalSpeed < 0){\r\n            this.y = this.config.maxHeight - 1;\r\n            this.x = Math.random() * this.config.maxWidth;\r\n        }\r\n        if (this.x >= this.config.maxWidth && this.config.horizontalSpeed > 0){\r\n            this.x = 0;\r\n            this.y = Math.random() * this.config.maxHeight;\r\n        }\r\n        if (this.x < 0 && this.config.horizontalSpeed < 0){\r\n            this.x = this.config.maxWidth - 1;\r\n            this.y = Math.random() * this.config.maxHeight;\r\n        }\r\n        let yInt = Math.floor(this.y);\r\n        let xInt = Math.floor(this.x);\r\n        if (yInt >= 0 && yInt < this.config.maxHeight \r\n            && xInt >= 0 && xInt < this.config.maxWidth){\r\n            this.speed = this.config.mappedImage[yInt][xInt].brightness;\r\n            this.color = this.config.mappedImage[yInt][xInt].color;\r\n        }\r\n    }\r\n    draw(ctx){\r\n        ctx.beginPath();\r\n        ctx.globalAlpha = 1;\r\n        ctx.fillStyle = this.color;\r\n        ctx.strokeStyle = this.color;\r\n        ctx.arc(this.x, this.y, this.size, 0, _utils_constant__WEBPACK_IMPORTED_MODULE_1__.default.TWO_PI);\r\n        ctx.fill();\r\n    }\r\n}\n\n//# sourceURL=webpack://pict2pix/./src/shooting-stars-effect/straight-particle.js?");

/***/ }),

/***/ "./src/shooting-stars-effect/twisted-particle.js":
/*!*******************************************************!*\
  !*** ./src/shooting-stars-effect/twisted-particle.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TwistedParticle)\n/* harmony export */ });\n/* harmony import */ var _straight_particle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./straight-particle */ \"./src/shooting-stars-effect/straight-particle.js\");\n\r\n\r\nclass TwistedParticle extends _straight_particle__WEBPACK_IMPORTED_MODULE_0__.default {\r\n    #angle = 0;\r\n\r\n    constructor(config) {\r\n        super(config);\r\n    }\r\n\r\n    update(deltaTime) {\r\n        super.update(deltaTime);\r\n        this.#angle += this.speed / 20;\r\n        this.y += Math.sin(this.#angle);\r\n        this.x += Math.cos(this.#angle);\r\n    }\r\n}\n\n//# sourceURL=webpack://pict2pix/./src/shooting-stars-effect/twisted-particle.js?");

/***/ }),

/***/ "./src/utils/constant.js":
/*!*******************************!*\
  !*** ./src/utils/constant.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Constant)\n/* harmony export */ });\nclass Constant {\r\n    static TWO_PI = 2 * Math.PI; \r\n}\n\n//# sourceURL=webpack://pict2pix/./src/utils/constant.js?");

/***/ }),

/***/ "./src/utils/image-utils.js":
/*!**********************************!*\
  !*** ./src/utils/image-utils.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"mapImage\": () => (/* binding */ mapImage),\n/* harmony export */   \"calculateRelativeBrightness\": () => (/* binding */ calculateRelativeBrightness),\n/* harmony export */   \"reduceImage\": () => (/* binding */ reduceImage)\n/* harmony export */ });\n\r\n\r\nfunction mapImage(pixels, width, height) {\r\n    let mappedImage = [];\r\n    for (let y = 0; y < height; y++){\r\n        const posY = y * 4 * pixels.width;\r\n        let row = [];\r\n        for (let x = 0; x < width; x++){\r\n            const posX = x * 4;\r\n            const red = pixels.data[posY + posX];\r\n            const green = pixels.data[posY + (posX + 1)];\r\n            const blue = pixels.data[posY + (posX + 2)];\r\n            const alpha = pixels.data[posY + (posX + 3)];\r\n            const brightness = calculateRelativeBrightness(red, green, blue);\r\n            const cell = {\r\n                brightness: brightness,\r\n                alpha: alpha,\r\n                color: 'rgb(' + red + ',' + green + ',' + blue + ')'\r\n            };\r\n            row.push(cell);\r\n        }\r\n        mappedImage.push(row);\r\n    }\r\n    return mappedImage;\r\n}\r\n\r\nfunction calculateRelativeBrightness(red, green, blue) {\r\n    return Math.sqrt(\r\n        (red * red) * 0.299 +\r\n        (green * green) * 0.587 +\r\n        (blue * blue) * 0.114\r\n    ) / 100;\r\n}\r\n\r\nfunction reduceImage(image, dotSize) {\r\n    const tempCanvas = document.createElement('canvas');\r\n    const smallWidth = image.width / dotSize;\r\n    const smallHeight = image.height / dotSize;\r\n    tempCanvas.width = smallWidth;\r\n    tempCanvas.height = smallHeight;\r\n    const tempCtx = tempCanvas.getContext(\"2d\");\r\n    tempCtx.drawImage(image, 0, 0, smallWidth, smallHeight);\r\n    const imageData = tempCtx.getImageData(0, 0, smallWidth, smallHeight);\r\n    return imageData;\r\n}\n\n//# sourceURL=webpack://pict2pix/./src/utils/image-utils.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.js");
/******/ 	pict2pix = __webpack_exports__;
/******/ 	
/******/ })()
;